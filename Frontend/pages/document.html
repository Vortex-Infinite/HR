<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>My Documents</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../assets/css/dashboard.css">
    <link rel="stylesheet" href="../assets/css/dashboard_style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
</head>
<body>
  <div class="dashboard-container">
    <div class="sidebar">
      <div class="sidebar-logo">
  <h2 style="color:#000;">ABC INC</h2>
        <button class="sidebar-toggle-btn-internal" id="sidebar-toggle-internal">
          <img src="https://img.icons8.com/ios-glyphs/30/menu--v1.png" width="16" height="16" alt="Menu">
        </button>
      </div>
      <div class="sidebar-section">
        <div class="sidebar-section-title">Personal</div>
        <button class="sidebar-menu-item" data-menu="profile">
          <img src="../assets/images/home-icon-silhouette.png" width="18" height="18" alt="Profile">
          Home
        </button>
        <button class="sidebar-menu-item" data-menu="clock">
          <img src="https://img.icons8.com/ios-glyphs/30/clock--v1.png" width="18" height="18" alt="Clock">
          Clock in
        </button>
        <button class="sidebar-menu-item" data-menu="timeoff">
          <img src="https://img.icons8.com/ios-glyphs/30/calendar.png" width="18" height="18" alt="Time Off">
          Time off
        </button>
        <button class="sidebar-menu-item active" data-menu="documents">
          <img src="https://img.icons8.com/ios-glyphs/30/document.png" width="18" height="18" alt="Documents">
          My documents
        </button>
      </div>
      <div class="sidebar-section">
        <div class="sidebar-section-title">Company</div>
        <button class="sidebar-menu-item" data-menu="employees">
          <img src="https://img.icons8.com/ios-glyphs/30/groups.png" width="18" height="18" alt="Employees">
          Employees
        </button>
        <button class="sidebar-menu-item" data-menu="recruitment">
          <img src="https://img.icons8.com/ios-glyphs/30/search-job.png" width="18" height="18" alt="Recruitment">
          Recruitment
        </button>
        <button class="sidebar-menu-item" data-menu="performance">
          <img src="https://img.icons8.com/ios-glyphs/30/goal--v1.png" width="18" height="18" alt="Performance">
          Performance
        </button>
        <button class="sidebar-menu-item" data-menu="analytics">
          <img src="https://img.icons8.com/ios-glyphs/30/combo-chart.png" width="18" height="18" alt="Analytics">
          Analytics
        </button>
      </div>
    </div>
    <div class="dashboard-main" style="display:flex;justify-content:center;align-items:flex-start;height:100vh;background:#f8fafd;">
  <div class="doc-card" style="background:#fff;box-shadow:0 8px 32px rgba(39,68,114,.09);border-radius:18px;padding:32px 32px 70px;max-width:900px;width:900px;margin-top:56px;">
  <div class="doc-title" style="font-size:1.7rem;font-weight:700;color:#000;margin:8px 0 14px;display:flex;gap:10px;align-items:center"><i class="fa fa-folder"></i> My Documents</div>
        <div class="table-wrap" style="border:1px solid #e0e6ed;border-radius:12px;overflow:hidden;margin-bottom:24px;">
          <div class="scroll-area">
            <table style="width:100%;border-collapse:separate;border-spacing:0;">
              <thead>
                <tr style="background:#f2f5fb;color:#274472;">
                  <th style="color:#000;">Document Name</th>
                  <th style="color:#000;">Type</th>
                  <th style="color:#000;">Date Uploaded</th>
                  <th style="color:#000;">Status</th>
                  <th style="color:#000;">Action</th>
                </tr>
              </thead>
              <tbody id="docBody">
                <!-- Starts empty. Rows will be added after successful upload -->
              </tbody>
            </table>
            <div id="emptyState" class="empty" style="text-align:center;color:#5a6b86;padding:28px 10px;font-weight:600">
              <i class="fa fa-folder-open"></i>No documents available. Upload to see files here.
            </div>
          </div>
        </div>
        <button class="upload-inside" id="openUpload" style="background:#009ffd;color:#fff;border:none;border-radius:10px;padding:10px 18px;font-weight:700;cursor:pointer;box-shadow:0 8px 18px rgba(0,159,253,.25);transition:background .2s, transform .05s;float:right;"><i class="fa fa-upload"></i> Upload</button>
      </div>
      <!-- Upload modal overlay -->
      <div class="modal-bg" id="modalBg2" style="display:none;align-items:center;justify-content:center;background:rgba(10,24,55,.23);z-index:99;position:fixed;inset:0;">
        <div class="modal" style="background:#fff;border-radius:14px;box-shadow:0 8px 32px rgba(39,68,114,.13);padding:32px;width:420px;max-width:95vw;position:relative;">
          <button class="close-btn" id="closeModal2" title="Close" style="position:absolute;top:14px;right:16px;background:none;border:none;font-size:1.1rem;color:#009ffd;cursor:pointer"><i class="fa fa-times"></i></button>
          <div class="modal-title" style="font-weight:700;color:#000;margin-bottom:14px;display:flex;gap:8px;align-items:center"><i class="fa fa-upload"></i> Upload Document</div>
          <div class="row" style="display:flex;align-items:center;gap:10px;margin:8px 0">
            <span class="label" style="color:#274472;font-weight:600;min-width:170px">Select a document:</span>
          </div>
          <div id="dropZone2" class="drop" style="border:2px dashed #009ffd;background:#f3faff;border-radius:10px;min-height:90px;padding:14px;text-align:center;color:#274472;font-weight:500;margin-top:8px;position:relative;">
            <i class="fa fa-cloud-upload-alt"></i> Drag & drop your file here
            <div style="display:flex;justify-content:space-between;align-items:center;position:absolute;left:0;right:0;bottom:-54px;width:100%;padding:0 8px;">
              <div>
                <button id="chooseBtn2" class="choose-btn" style="background:#ecf4fa;color:#274472;border:none;border-radius:8px;padding:10px 14px;font-weight:600;cursor:pointer"><i class="fa fa-folder-open"></i> Choose File</button>
                <input id="fileInput2" class="file-input" type="file" accept=".pdf,.doc,.docx,.jpg,.jpeg,.png" style="display:none;" />
              </div>
              <button id="uploadBtn2" class="modal-btn" style="background:#009ffd;color:#fff;border:none;border-radius:8px;padding:9px 18px;font-weight:700;cursor:pointer;display:none;"><i class="fa fa-paper-plane"></i> Upload</button>
            </div>
          </div>
          <div id="chosenFile2" class="chosen" style="margin-top:64px;color:#429b56;font-weight:600;word-break:break-all"></div>
        </div>
      </div>
    </div>
  </div>
  <script>
const openUpload = document.getElementById('openUpload');
const modalBg2 = document.getElementById('modalBg2');
const closeModal2 = document.getElementById('closeModal2');
const chooseBtn2 = document.getElementById('chooseBtn2');
const fileInput2 = document.getElementById('fileInput2');
const dropZone2 = document.getElementById('dropZone2');
const chosenFile2 = document.getElementById('chosenFile2');
const uploadBtn2 = document.getElementById('uploadBtn2');
const docBody = document.getElementById('docBody');
const emptyState = document.getElementById('emptyState');
let selectedFile2 = null;
openUpload.onclick = () => {
  modalBg2.style.display = 'flex';
  resetModal2();
};
closeModal2.onclick = () => modalBg2.style.display = 'none';
modalBg2.addEventListener('click', e => {
  if (e.target === modalBg2) modalBg2.style.display = 'none';
});
chooseBtn2.onclick = () => fileInput2.click();
fileInput2.onchange = () => {
  if (fileInput2.files.length) setFile2(fileInput2.files[0]);
};
['dragenter','dragover'].forEach(ev => dropZone2.addEventListener(ev, e => {
  e.preventDefault(); e.stopPropagation(); dropZone2.classList.add('dragover');
}));
['dragleave','drop'].forEach(ev => dropZone2.addEventListener(ev, e => {
  e.preventDefault(); e.stopPropagation(); dropZone2.classList.remove('dragover');
}));
dropZone2.addEventListener('drop', e => {
  const f = e.dataTransfer.files;
  if (f && f.length) setFile2(f[0]);
});
function setFile2(file){
  selectedFile2 = file;
  chosenFile2.innerHTML = '';
  if (file.type && file.type.startsWith('image/')) {
    const reader = new FileReader();
    reader.onload = function(e) {
      chosenFile2.innerHTML = `<img src="${e.target.result}" alt="Preview" style="max-width:120px;max-height:120px;display:block;margin-bottom:8px;border-radius:8px;" /><br>${file.name}`;
    };
    reader.readAsDataURL(file);
  } else {
    chosenFile2.textContent = file.name;
  }
  uploadBtn2.style.display = 'inline-block';
}
uploadBtn2.onclick = async () => {
  if (!selectedFile2) return;
  addRow2(selectedFile2.name);
  modalBg2.style.display = 'none';
  resetModal2();
};
function addRow2(fileName){
  if (emptyState) emptyState.style.display = 'none';
  const now = new Date();
  const dateStr = now.toLocaleDateString('en-GB',{day:'2-digit',month:'short',year:'numeric'}).replace(/ /g,'-');
  const type = guessType2(fileName);
  const tr = document.createElement('tr');
  tr.innerHTML = ` <td style='text-align:center;'>${fileName}</td> <td style='text-align:center;'>${type}</td> <td style='text-align:left;'>${dateStr}</td> <td style='text-align:center;'><span class="status success">Available</span></td> <td class="actions" style='text-align:center;'> <button class="action-btn" title="View"><i class="fa fa-eye"></i></button> <button class="action-btn" title="Download"><i class="fa fa-download"></i></button> </td>`;
  docBody.appendChild(tr);
}
function guessType2(name){
  const ext = name.split('.').pop().toLowerCase();
  if (["pdf"].includes(ext)) return 'PDF';
  if (["doc","docx"].includes(ext)) return 'Word';
  if (["jpg","jpeg","png"].includes(ext)) return 'Image';
  return 'Document';
}
function resetModal2(){
  selectedFile2 = null;
  fileInput2.value = '';
  chosenFile2.textContent = '';
  uploadBtn2.style.display = 'none';
}

// Sidebar navigation: go to home page when 'Home' is clicked
document.querySelectorAll('.sidebar-menu-item').forEach(function(btn){
  btn.addEventListener('click',function(){
    const menu = btn.getAttribute('data-menu');
    if(menu === 'profile'){
      window.location.href = 'hr_home.html';
    }
    // ...existing code...
  });
});
</script>
</body>
              <thead>
                <tr style="background:#f2f5fb;color:#000;">
                  <th style="color:#000;padding:12px 0;text-align:center;vertical-align:middle;width:38%;">Document Name</th>
                  <th style="color:#000;padding:12px 0;text-align:center;vertical-align:middle;width:12%;">Type</th>
                  <th style="color:#000;padding:12px 0;text-align:center;vertical-align:middle;width:18%;">Date Uploaded</th>
                  <th style="color:#000;padding:12px 0;text-align:center;vertical-align:middle;width:18%;">Status</th>
                  <th style="color:#000;padding:12px 0;text-align:center;vertical-align:middle;width:14%;">Action</th>
                </tr>
              </thead>
              <tbody id="docBody" style="text-align:center;">
                <!-- Starts empty. Rows will be added after successful upload -->
              </tbody>